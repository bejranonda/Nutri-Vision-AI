# NutriVision AI - Environment Variables Configuration
# Copy this file to .env and fill in your actual values
# NEVER commit .env file to git!

# ===================================
# Application Settings
# ===================================
APP_NAME=NutriVision AI
APP_ENV=development
DEBUG=true
LOG_LEVEL=INFO

# ===================================
# Security
# ===================================
# Generate a strong random secret key (min 32 characters)
# You can use: openssl rand -hex 32
SECRET_KEY=your-secret-key-here-min-32-characters-change-this
JWT_SECRET_KEY=your-jwt-secret-key-here-change-this
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# CORS - Allowed origins (comma-separated)
ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# ===================================
# Database (PostgreSQL)
# ===================================
DATABASE_URL=postgresql://nutrivision:nutrivision123@localhost:5432/nutrivision
DB_HOST=localhost
DB_PORT=5432
DB_NAME=nutrivision
DB_USER=nutrivision
DB_PASSWORD=nutrivision123
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20

# ===================================
# Redis (Cache & Sessions)
# ===================================
REDIS_URL=redis://localhost:6379/0
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
CACHE_TTL=3600

# ===================================
# Google Gemini AI
# ===================================
# Get your API key from: https://makersuite.google.com/app/apikey
GEMINI_API_KEY=your-gemini-api-key-here
GEMINI_MODEL=gemini-1.5-flash
GEMINI_MAX_TOKENS=2048
GEMINI_TEMPERATURE=0.7

# API Usage Limits
GEMINI_RATE_LIMIT_PER_MINUTE=60
GEMINI_DAILY_REQUEST_LIMIT=1500

# ===================================
# File Storage
# ===================================
# Local storage for development
UPLOAD_DIR=./uploads
MAX_FILE_SIZE_MB=10
ALLOWED_IMAGE_TYPES=image/jpeg,image/png,image/webp,image/heic

# S3/MinIO (for production)
USE_S3=false
S3_ENDPOINT=http://localhost:9000
S3_ACCESS_KEY=minio-access-key
S3_SECRET_KEY=minio-secret-key
S3_BUCKET_NAME=nutrivision-images
S3_REGION=us-east-1

# ===================================
# Email (for user verification)
# ===================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-specific-password
SMTP_FROM_EMAIL=noreply@nutrivision.app
SMTP_FROM_NAME=NutriVision AI

# ===================================
# OAuth Providers
# ===================================
# Google OAuth
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_REDIRECT_URI=http://localhost:3000/auth/google/callback

# Line Login (Thailand)
LINE_CHANNEL_ID=your-line-channel-id
LINE_CHANNEL_SECRET=your-line-channel-secret
LINE_REDIRECT_URI=http://localhost:3000/auth/line/callback

# Facebook Login
FACEBOOK_APP_ID=your-facebook-app-id
FACEBOOK_APP_SECRET=your-facebook-app-secret
FACEBOOK_REDIRECT_URI=http://localhost:3000/auth/facebook/callback

# ===================================
# Rate Limiting
# ===================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW_SECONDS=60

# API specific limits
API_SCAN_LIMIT_FREE=10
API_SCAN_LIMIT_PREMIUM=999999
API_CHAT_LIMIT_FREE=5
API_CHAT_LIMIT_PREMIUM=999999

# ===================================
# Frontend URLs
# ===================================
FRONTEND_URL=http://localhost:3000
BACKEND_URL=http://localhost:8000

# ===================================
# Celery (Background Tasks)
# ===================================
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2

# ===================================
# Monitoring & Logging
# ===================================
SENTRY_DSN=
SENTRY_ENVIRONMENT=development

# ===================================
# Feature Flags
# ===================================
ENABLE_REGISTRATION=true
ENABLE_OAUTH=true
ENABLE_EMAIL_VERIFICATION=false
ENABLE_PREMIUM_FEATURES=true
ENABLE_ANALYTICS=false

# ===================================
# Localization
# ===================================
DEFAULT_LANGUAGE=th
SUPPORTED_LANGUAGES=th,en

# ===================================
# Payment Gateways (Thailand)
# ===================================
# PromptPay
PROMPTPAY_ENABLED=false
PROMPTPAY_MERCHANT_ID=

# Stripe (for international)
STRIPE_ENABLED=false
STRIPE_PUBLIC_KEY=pk_test_
STRIPE_SECRET_KEY=sk_test_
STRIPE_WEBHOOK_SECRET=whsec_

# ===================================
# Development Tools
# ===================================
# Enable detailed API docs
ENABLE_API_DOCS=true
API_DOCS_URL=/docs

# Enable test routes (NEVER in production!)
ENABLE_TEST_ROUTES=true
